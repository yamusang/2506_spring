<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.iclass.spring_3mybatis.mapper.CustomerMapper">
<!-- idëŠ” sqlì„ ì°¾ëŠ” ì‹ë³„ê°’. (ê°œë°œìž ì •ì˜)
Mybatis-Springì€ namespaceë¥¼ ë°˜ë“œì‹œ ì¸í„°íŽ˜ì´ìŠ¤ì˜ "íŒ¨í‚¤ì§€ ì´ë¦„.ì¸í„°íŽ˜ì´ìŠ¤ì´ë¦„"ë¡œ í•©ë‹ˆë‹¤.
ì¸í„°íŽ˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´(í•´ë‹¹í´ëž˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì§„ ê°ì²´)ë¥¼ ë§Œë“¤ ë•Œ sqlì´ ë§¤í•‘ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
 -->
	<select id="selectByPk" parameterType="String" resultType="CustomerDto">
	<!-- ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì€ íƒ€ìž…ê³¼ ì´ë¦„ìœ¼ë¡œ ë§¤í•‘ -->
	 <!-- nê°œ í–‰ ì§‘í•©ì„ ê²°ê³¼ë¡œ ì˜ˆìƒí•œë‹¤ë©´ resultTypeì€ ì»¬ë ‰ì…˜ ìžë£Œêµ¬ì¡°ì˜ ì œë„ˆë¦­ íƒ€ìž… -->
		select * from tbl_customer#
		where customer_id=#{customerId}
	</select>
	<select id="selectAll" resultType="CustomerDto">
	<!-- nê°œí–‰ì´ì§€ë§Œ resultTypeì— Listë¥¼ ì“°ì§€ ì•Šê³  Generic Typeë§Œ ì„¤ì • -->
		select * from tbl_customer# order by customer_id
	</select>
	<!-- insert,update,deleteëŠ” resultTypeì´ ì—†ìŠµë‹ˆë‹¤. daoì—ì„œëŠ” preparedStatementì²˜ëŸ¼ ë¦¬í„´ ìžˆìŒ. -->
	<insert id="insert" parameterType="CustomerDto">
	<!-- ë§¤ê°œë³€ìˆ˜ì˜ ì´ë¦„ì€ vo ê°ì²´ì˜ getterë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. (getXXXX). XXXXì´ ë§¤ê°œë³€ìˆ˜ ì´ë¦„. (3.4 ì´ì „ë²„ì „)
	ê·¸ ì´í›„ëŠ” ì§ì ‘ í•„ë“œëª…ìœ¼ë¡œ ì ‘ê·¼í•´ì„œ ê°€ì ¸ì˜¨ë‹¤.ðŸ”¥voí´ëž˜ìŠ¤ì— ì„ ì–¸ëœ í•„ë“œëª…ì„ ë§¤ê°œë³€ìˆ˜ ì´ë¦„ìœ¼ë¡œ í•´ì•¼í•©ë‹ˆë‹¤.
	-->
		insert into tbl_customer#(customer_id,name,email,age,reg_date) 
                    values (#{customerId}, #{name}, #{email}, #{age}, sysdate)
	</insert>
	<update id="update" parameterType="CustomerDto">
		update tbl_customer# 
		set email = #{email}, age = #{age} 
		where customer_id = #{customerId}
	</update>
	<delete id="delete" parameterType="String">
		delete from tbl_customer# 
			where customer_id = #{customerId}
	</delete>
</mapper>  
<!-- 
âœ…parameterType,resultTypeì´ í´ëž˜ìŠ¤ì¼ ë•Œ, "í”¼í‚¤ì§€ ì´ë¦„.í´ëž˜ìŠ¤ ì´ë¦„"ìœ¼ë¡œ í•´ì•¼ í•©ë‹ˆë‹¤.
CustomerVoëŠ” TypeAlias(ë³„ì¹­)ë¥¼ ì„¤ì •í•˜ê³  ì‚¬ìš©ì¤‘ì´ë©° ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ mybatis.vo.CustomerVoë¡œ í•´ì•¼í•©ë‹ˆë‹¤.
Stringì€ ê¸°ë³¸íŒ¨í‚¤ì§€ java.langì— ì†í•˜ëŠ” í´ëž˜ìŠ¤ì´ë¯€ë¡œ ìƒëžµí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
parameterType="map" ë˜ëŠ” "list" ë˜ëŠ” "collection"
resultType = "Map"
${}  : jspì—ì„œ getAttribute ì—­í• 
       ë¬¸ìžì—´ ê¸°í˜¸ ' ' ê°€ ìžë™ìœ¼ë¡œ ìƒê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤.
#{}  : ë§¤í¼ XML ì—ì„œ íŒŒë¼ë¯¸í„° ê¸°í˜¸
       ë¬¸ìžì—´ ê¸°í˜¸ ' ' ê°€ ìžë™ìœ¼ë¡œ ìƒê¹ë‹ˆë‹¤.
 -->
